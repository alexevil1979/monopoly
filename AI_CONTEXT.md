# AI_CONTEXT.md — контекст для AI

Документ фиксирует **текущее состояние** проекта Monopoly Online и **следующий шаг** разработки.

---

## Текущее состояние (на момент фиксации)

### Backend
- **Node.js + Express** — HTTP, раздача статики из `public/`, `/health`
- **Socket.IO** — реал-тайм: создание/вход в комнату, ready, roll, buy, end_turn, chat, jail, reconnect
- **Redis** (ioredis + @socket.io/redis-adapter) — состояние комнат, масштабирование
- **Игра:** 20 клеток по кругу, улицы/железные дороги/утилиты, Chance/Community Chest, тюрьма, банкротство

### Frontend (public/)
- **index.html** — лобби (создание/вход по коду), экран комнаты, экран игры с круглой доской, модалки, чат
- **css/main.css** — тёмная тема по умолчанию, зелёно-оранжево-жёлтые акценты, круглая доска, панель игроков, HUD, модалки, чат; переключатель светлая/тёмная тема; при игре лобби и лог событий скрыты (`body.in-game`)
- **css/animations.css** — анимации (shake, bounce, fade, slide, dice, confetti)
- **js/client.js** — логика клиента (Socket.IO, рендер доски/игроков, кнопки, модалки, чат, события)
- **js/utils.js** — утилиты (токены, деньги, анимации, модалки, лог событий)

### Git и правила
- Репозиторий: **https://github.com/alexevil1979/monopoly.git**, ветка **main**
- Правило Cursor: **.cursor/rules/git-publish.mdc** — после изменений публиковать в этот репозиторий

### Что уже сделано по UI
- Круглая доска, карточки клеток с цветной полосой, фишки игроков, аватары, список владений
- Нижний HUD с кубиками и кнопками (Roll, Buy, End turn, Jail)
- Модалки: свойство, Chance/Community Chest (flip), банкротство, победа
- Чат справа внизу (сворачиваемый), лог событий скрыт во время игры
- Адаптивность под мобильные

---

## Следующий шаг

1. **Стиль «Америка 50‑х» по умолчанию**  
   Оформить по умолчанию в духе США 1950‑х:
   - **Карточки** (свойства, Chance, Community Chest) — ретро-шрифты, пастельные/насыщенные цвета, лёгкая «винтажная» графика (рамки, орнамент).
   - **Игровой стол** — визуально «стол» (дерево/текстура, форма под доску), доска как центральный элемент на столе.
   - **Рабочий стол (лобби/комната)** — фон и элементы в стиле 50‑х (обои, формы кнопок, шрифты), чтобы весь зал воспринимался в одной эпохе.

2. **Пять дополнительных тем оформления зала**  
   Сделать **выбор темы** (например, в лобби или в настройках комнаты):
   - Классика Monopoly (текущая тёмная зелёно-оранжевая) — оставить как одну из тем.
   - Америка 50‑х (описанная выше) — **тема по умолчанию**.
   - Ещё 4 варианта на выбор, например: Art Deco, Модерн/сканди, Классика светлая (дерево/бежевый), Неон/ночной город (тёмный + неоновые акценты).  
   Конкретный список и названия тем можно уточнить; важно, что пользователь выбирает одну из 5–6 тем, и она применяется к лобби/комнате (и при желании к карточкам и столу).

3. **Технически**
   - Темы: CSS-переменные (например, наборы `--theme-*` в `:root` или `[data-theme="america50"]` и т.п.) + один общий файл или блок в `main.css` с переключателем темы в UI.
   - Сохранение выбранной темы в `localStorage`, чтобы при следующем заходе применялась выбранная тема.

4. **После реализации**
   - Закоммитить изменения и выполнить **git push** в **https://github.com/alexevil1979/monopoly.git** (ветка **main**), в соответствии с правилом в `.cursor/rules/git-publish.mdc`.

---

## Краткая памятка для AI

- **Сейчас:** Игра работает, UI премиум-стиль, тёмная тема, круглая доска, модалки, чат; лобби и лог событий скрыты в игре.
- **Дальше:** Америка 50‑х по умолчанию (карточки, стол, зал) + 5 тем на выбор + сохранение темы в localStorage + push в указанный GitHub-репозиторий после изменений.
